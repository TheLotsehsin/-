{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      queryInfo: {\n        query: \"\",\n        pagenum: 1,\n        pagesize: 10\n      },\n      goodslist: [],\n      total: 0\n    };\n  },\n  created() {\n    this.getGoodsList();\n  },\n  methods: {\n    async getGoodsList() {\n      const {\n        data\n      } = await this.$http.get(\"goods\", {\n        params: this.queryInfo\n      });\n      if (data.meta.status !== 200) {\n        return this.$message.error(data.meta.msg);\n      }\n      this.goodslist = data.data.goods;\n      this.total = data.data.total;\n    },\n    handleSizeChange(newSize) {\n      this.queryInfo.pagesize = newSize;\n      this.getGoodsList();\n    },\n    handleCurrentChange(newPage) {\n      this.queryInfo.pagenum = newPage;\n      this.getGoodsList();\n    },\n    // eslint-disable-next-line no-unused-vars\n    edit(row) {\n      alert(JSON.stringify(row));\n    },\n    removeById(id) {\n      this.$confirm(\"此操作将永久删除该商品, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(async () => {\n        const {\n          data\n        } = await this.$http.delete(`goods/${id}`);\n        if (data.meta.status !== 200) {\n          return this.$message.error(data.meta.msg);\n        }\n        this.getGoodsList();\n        this.$message({\n          type: \"success\",\n          message: \"删除成功!\"\n        });\n      }).catch(() => {\n        this.$message({\n          type: \"info\",\n          message: \"已取消删除\"\n        });\n      });\n    },\n    goAddPage() {\n      this.$router.push(\"goods/add\");\n    }\n  }\n};","map":{"version":3,"names":["data","queryInfo","query","pagenum","pagesize","goodslist","total","created","getGoodsList","methods","$http","get","params","meta","status","$message","error","msg","goods","handleSizeChange","newSize","handleCurrentChange","newPage","edit","row","alert","JSON","stringify","removeById","id","$confirm","confirmButtonText","cancelButtonText","type","then","delete","message","catch","goAddPage","$router","push"],"sources":["E:\\Java Project\\Java item\\graduation_design\\src\\views\\index.vue"],"sourcesContent":["<!--<template>-->\r\n<!--    <div id=\"index\">-->\r\n<!--        <el-container class=\"layout-container-demo\" style=\"height: 1000px\">-->\r\n<!--&lt;!&ndash;            <admin_left></admin_left>&ndash;&gt;-->\r\n<!--            <el-container>-->\r\n<!--                <el-header style=\"text-align: right; font-size: 12px\">-->\r\n<!--                    <div class=\"toolbar\">-->\r\n<!--                        <el-dropdown>-->\r\n<!--                            <el-icon style=\"margin-right: 8px; margin-top: 1px\"-->\r\n<!--                            ><setting/></el-icon>-->\r\n<!--                            <template #dropdown>-->\r\n<!--                                <el-dropdown-menu>-->\r\n<!--                                    <el-dropdown-item>View</el-dropdown-item>-->\r\n<!--                                    <el-dropdown-item>Add</el-dropdown-item>-->\r\n<!--                                    <el-dropdown-item>Delete</el-dropdown-item>-->\r\n<!--                                </el-dropdown-menu>-->\r\n<!--                            </template>-->\r\n<!--                        </el-dropdown>-->\r\n<!--                        <span>Tom</span>-->\r\n<!--                    </div>-->\r\n<!--                </el-header>-->\r\n\r\n<!--                <el-main>-->\r\n<!--                    <el-scrollbar>-->\r\n<!--                        <el-table :data=\"tableData\">-->\r\n<!--                            <el-table-column prop=\"updateDate\" label=\"上传日期\" width=\"160\" />-->\r\n<!--                            <el-table-column prop=\"fileName\" label=\"文件名称\" width=\"160\" />-->\r\n<!--                            <el-table-column prop=\"uploader\" label=\"上传人\" width=\"160\" />-->\r\n<!--                            <el-table-column prop=\"detail\" label=\"详情\" width=\"160\"/>-->\r\n<!--                            <el-table-column prop=\"items\" label=\"操作\"/>-->\r\n<!--                        </el-table>-->\r\n<!--                    </el-scrollbar>-->\r\n<!--                </el-main>-->\r\n<!--            </el-container>-->\r\n<!--        </el-container>-->\r\n<!--    </div>-->\r\n\r\n<!--</template>-->\r\n\r\n<!--<script>-->\r\n<!--    // import admin_left   from \"../components/admin_left\";-->\r\n\r\n<!--    export default {-->\r\n<!--        name:'index',-->\r\n<!--        components:{-->\r\n<!--            admin_left-->\r\n<!--        },-->\r\n<!--        data(){-->\r\n<!--            return {-->\r\n\r\n<!--            }-->\r\n<!--        }-->\r\n<!--    }-->\r\n\r\n<!--</script>-->\r\n<template>\r\n    <div>\r\n        <el-container>\r\n            <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n                <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n                <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n                <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n\r\n            <el-card>\r\n                <el-row :gutter=\"20\">\r\n                    <el-col :span=\"8\">\r\n                        <el-input\r\n                                placeholder=\"请输入内容\"\r\n                                clearable\r\n                                v-model=\"queryInfo.query\"\r\n                                @clear=\"getGoodsList\"\r\n                        >\r\n                            <el-button\r\n                                    slot=\"append\"\r\n                                    icon=\"el-icon-search\"\r\n                                    @click=\"handleCurrentChange(1)\"\r\n                            ></el-button>\r\n                        </el-input>\r\n                    </el-col>\r\n                    <el-col :span=\"4\">\r\n                        <el-button type=\"primary\" @click=\"goAddPage\">添加商品</el-button>\r\n                    </el-col>\r\n                </el-row>\r\n\r\n                <el-table :data=\"goodslist\" stripe border style=\"width: 100%\">\r\n                    <el-table-column type=\"index\"> </el-table-column>\r\n                    <el-table-column prop=\"goods_name\" label=\"商品名称\"></el-table-column>\r\n                    <el-table-column prop=\"goods_price\" label=\"商品价格（元）\" width=\"95px\"></el-table-column>\r\n                    <el-table-column prop=\"goods_weight\" label=\"商品重量\" width=\"70px\"></el-table-column>\r\n                    <el-table-column prop=\"add_time\" label=\"创建时间\" width=\"170px\">\r\n                        <template v-slot=\"scope\">\r\n                            {{ scope.row.add_time | dateFormat }}\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\" width=\"130px\">\r\n                        <template v-slot=\"scope\">\r\n                            <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\" @click=\"edit(scope.row)\"></el-button>\r\n                            <el-button size=\"mini\" type=\"warning\" icon=\"el-icon-delete\" @click=\"removeById(scope.row.goods_id)\"></el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n\r\n                <el-pagination\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page=\"queryInfo.pagenum\"\r\n                        :page-sizes=\"[10, 20, 50]\"\r\n                        :page-size=\"queryInfo.pagesize\"\r\n                        layout=\"total, sizes, prev, pager, next, jumper\"\r\n                        :total=\"total\"\r\n                        background\r\n                >\r\n                </el-pagination>\r\n            </el-card>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                queryInfo: {\r\n                    query: \"\",\r\n                    pagenum: 1,\r\n                    pagesize: 10\r\n                },\r\n                goodslist: [],\r\n                total: 0\r\n            };\r\n        },\r\n        created() {\r\n            this.getGoodsList();\r\n        },\r\n        methods: {\r\n            async getGoodsList() {\r\n                const { data } = await this.$http.get(\"goods\", {\r\n                    params: this.queryInfo\r\n                });\r\n                if (data.meta.status !== 200) {\r\n                    return this.$message.error(data.meta.msg);\r\n                }\r\n                this.goodslist = data.data.goods;\r\n                this.total = data.data.total;\r\n            },\r\n            handleSizeChange(newSize) {\r\n                this.queryInfo.pagesize = newSize;\r\n                this.getGoodsList();\r\n            },\r\n            handleCurrentChange(newPage) {\r\n                this.queryInfo.pagenum = newPage;\r\n                this.getGoodsList();\r\n            },\r\n            // eslint-disable-next-line no-unused-vars\r\n            edit(row){\r\n                alert(JSON.stringify(row));\r\n            },\r\n            removeById(id) {\r\n                this.$confirm(\"此操作将永久删除该商品, 是否继续?\", \"提示\", {\r\n                    confirmButtonText: \"确定\",\r\n                    cancelButtonText: \"取消\",\r\n                    type: \"warning\"\r\n                })\r\n                    .then(async () => {\r\n                        const { data } = await this.$http.delete(`goods/${id}`);\r\n                        if (data.meta.status !== 200) {\r\n                            return this.$message.error(data.meta.msg);\r\n                        }\r\n                        this.getGoodsList();\r\n                        this.$message({\r\n                            type: \"success\",\r\n                            message: \"删除成功!\"\r\n                        });\r\n                    })\r\n                    .catch(() => {\r\n                        this.$message({\r\n                            type: \"info\",\r\n                            message: \"已取消删除\"\r\n                        });\r\n                    });\r\n            },\r\n            goAddPage() {\r\n                this.$router.push(\"goods/add\");\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n\r\n\r\n"],"mappings":";AAwHI,eAAe;EACXA,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,SAAS,EAAE;QACPC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE,CAAC;QACVC,QAAQ,EAAE;MACd,CAAC;MACDC,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE;IACX,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,YAAY,EAAE;EACvB,CAAC;EACDC,OAAO,EAAE;IACL,MAAMD,YAAYA,CAAA,EAAG;MACjB,MAAM;QAAER;MAAK,IAAI,MAAM,IAAI,CAACU,KAAK,CAACC,GAAG,CAAC,OAAO,EAAE;QAC3CC,MAAM,EAAE,IAAI,CAACX;MACjB,CAAC,CAAC;MACF,IAAID,IAAI,CAACa,IAAI,CAACC,MAAK,KAAM,GAAG,EAAE;QAC1B,OAAO,IAAI,CAACC,QAAQ,CAACC,KAAK,CAAChB,IAAI,CAACa,IAAI,CAACI,GAAG,CAAC;MAC7C;MACA,IAAI,CAACZ,SAAQ,GAAIL,IAAI,CAACA,IAAI,CAACkB,KAAK;MAChC,IAAI,CAACZ,KAAI,GAAIN,IAAI,CAACA,IAAI,CAACM,KAAK;IAChC,CAAC;IACDa,gBAAgBA,CAACC,OAAO,EAAE;MACtB,IAAI,CAACnB,SAAS,CAACG,QAAO,GAAIgB,OAAO;MACjC,IAAI,CAACZ,YAAY,EAAE;IACvB,CAAC;IACDa,mBAAmBA,CAACC,OAAO,EAAE;MACzB,IAAI,CAACrB,SAAS,CAACE,OAAM,GAAImB,OAAO;MAChC,IAAI,CAACd,YAAY,EAAE;IACvB,CAAC;IACD;IACAe,IAAIA,CAACC,GAAG,EAAC;MACLC,KAAK,CAACC,IAAI,CAACC,SAAS,CAACH,GAAG,CAAC,CAAC;IAC9B,CAAC;IACDI,UAAUA,CAACC,EAAE,EAAE;MACX,IAAI,CAACC,QAAQ,CAAC,oBAAoB,EAAE,IAAI,EAAE;QACtCC,iBAAiB,EAAE,IAAI;QACvBC,gBAAgB,EAAE,IAAI;QACtBC,IAAI,EAAE;MACV,CAAC,EACIC,IAAI,CAAC,YAAY;QACd,MAAM;UAAElC;QAAK,IAAI,MAAM,IAAI,CAACU,KAAK,CAACyB,MAAM,CAAE,SAAQN,EAAG,EAAC,CAAC;QACvD,IAAI7B,IAAI,CAACa,IAAI,CAACC,MAAK,KAAM,GAAG,EAAE;UAC1B,OAAO,IAAI,CAACC,QAAQ,CAACC,KAAK,CAAChB,IAAI,CAACa,IAAI,CAACI,GAAG,CAAC;QAC7C;QACA,IAAI,CAACT,YAAY,EAAE;QACnB,IAAI,CAACO,QAAQ,CAAC;UACVkB,IAAI,EAAE,SAAS;UACfG,OAAO,EAAE;QACb,CAAC,CAAC;MACN,CAAC,EACAC,KAAK,CAAC,MAAM;QACT,IAAI,CAACtB,QAAQ,CAAC;UACVkB,IAAI,EAAE,MAAM;UACZG,OAAO,EAAE;QACb,CAAC,CAAC;MACN,CAAC,CAAC;IACV,CAAC;IACDE,SAASA,CAAA,EAAG;MACR,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,WAAW,CAAC;IAClC;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
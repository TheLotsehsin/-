{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// 引入去除空格工具\nimport { validUsername } from '@/utils/validate';\nexport default {\n  name: 'Login',\n  data() {\n    const validateUsername = (rule, value, callback) => {\n      if (!validUsername(value)) {\n        callback(new Error('用户名不能为空！'));\n      } else {\n        callback();\n      }\n    };\n    const validatePassword = (rule, value, callback) => {\n      if (value.length < 6) {\n        callback(new Error('密码最少为6位字符！'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      // 头像状态\n      TxStatus: true,\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      // 登录规则\n      loginRules: {\n        username: [{\n          required: true,\n          trigger: 'blur',\n          validator: validateUsername\n        }],\n        password: [{\n          required: true,\n          trigger: 'blur',\n          validator: validatePassword\n        }]\n      },\n      loading: false,\n      passwordType: 'password',\n      redirect: undefined\n    };\n  },\n  watch: {\n    $route: {\n      handler: function (route) {\n        this.redirect = route.query && route.query.redirect;\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    showPwd() {\n      if (this.passwordType === 'password') {\n        this.passwordType = '';\n      } else {\n        this.passwordType = 'password';\n      }\n      this.$nextTick(() => {\n        this.$refs.password.focus();\n      });\n    },\n    // 登录业务\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        // 如果符合验证规则\n        if (valid) {\n          this.loading = true;\n          setTimeout(() => {\n            this.$store.dispatch('user/login', this.loginForm).then(() => {\n              this.$router.push({\n                path: this.redirect || '/'\n              });\n              this.loading = false;\n            }).catch(() => {\n              this.loading = false;\n            });\n          }, 1500);\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    // 注册业务\n    register() {\n      console.log('123');\n      this.$router.push({\n        name: 'register'\n      });\n    }\n  }\n};","map":{"version":3,"names":["validUsername","name","data","validateUsername","rule","value","callback","Error","validatePassword","length","TxStatus","loginForm","username","password","loginRules","required","trigger","validator","loading","passwordType","redirect","undefined","watch","$route","handler","route","query","immediate","methods","showPwd","$nextTick","$refs","focus","handleLogin","validate","valid","setTimeout","$store","dispatch","then","$router","push","path","catch","console","log","register"],"sources":["E:\\Java Project\\Java item\\graduation_design\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div v-loading=\"loading\" element-loading-text=\"登录中...\" element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(0, 0, 0, 0.6)\" class=\"login-container\">\n\n    <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" class=\"login-form\" auto-complete=\"on\" label-position=\"left\">\n      <!-- 头像区域 -->\n      <div v-if=\"TxStatus\" class=\"avatar-box\">\n        <img src=\"../../assets/touxiang.jpg\" alt=\"\">\n      </div>\n\n      <div class=\"title-container\">\n        <h3 class=\"title\">后台管理系统</h3>\n      </div>\n\n      <el-form-item prop=\"username\">\n        <span class=\"svg-container\">\n          <svg-icon icon-class=\"user\" />\n        </span>\n        <el-input ref=\"username\" v-model=\"loginForm.username\" placeholder=\"Username\" name=\"username\" type=\"text\" tabindex=\"1\" auto-complete=\"on\" />\n      </el-form-item>\n\n      <el-form-item prop=\"password\">\n        <span class=\"svg-container\">\n          <svg-icon icon-class=\"password\" />\n        </span>\n        <el-input :key=\"passwordType\" ref=\"password\" v-model=\"loginForm.password\" :type=\"passwordType\" placeholder=\"Password\" name=\"password\" tabindex=\"2\" auto-complete=\"on\" @keyup.enter.native=\"handleLogin\" />\n        <span class=\"show-pwd\" @click=\"showPwd\">\n          <svg-icon :icon-class=\"passwordType === 'password' ? 'eye' : 'eye-open'\" />\n        </span>\n      </el-form-item>\n      <div>\n        <el-button type=\"primary\" style=\"width:100%;margin-bottom:20px;\" @click.native.prevent=\"handleLogin\">登录</el-button>\n      </div>\n      <div class=\"tips\">\n        <span style=\"margin-right:20px;\">如果您还没有账号请先 <span style=\"color:#409EFF;cursor:pointer\" @click=\"register\">注册</span></span>\n      </div>\n\n    </el-form>\n  </div>\n</template>\n\n<script>\n  // 引入去除空格工具\n  import { validUsername } from '@/utils/validate'\n\n  export default {\n    name: 'Login',\n    data() {\n      const validateUsername = (rule, value, callback) => {\n        if (!validUsername(value)) {\n          callback(new Error('用户名不能为空！'))\n        } else {\n          callback()\n        }\n      }\n      const validatePassword = (rule, value, callback) => {\n        if (value.length < 6) {\n          callback(new Error('密码最少为6位字符！'))\n        } else {\n          callback()\n        }\n      }\n      return {\n        // 头像状态\n        TxStatus: true,\n        loginForm: {\n          username: '',\n          password: ''\n        },\n        // 登录规则\n        loginRules: {\n          username: [{ required: true, trigger: 'blur', validator: validateUsername }],\n          password: [{ required: true, trigger: 'blur', validator: validatePassword }]\n        },\n        loading: false,\n        passwordType: 'password',\n        redirect: undefined\n      }\n    },\n    watch: {\n      $route: {\n        handler: function(route) {\n          this.redirect = route.query && route.query.redirect\n        },\n        immediate: true\n      }\n    },\n    methods: {\n      showPwd() {\n        if (this.passwordType === 'password') {\n          this.passwordType = ''\n        } else {\n          this.passwordType = 'password'\n        }\n        this.$nextTick(() => {\n          this.$refs.password.focus()\n        })\n      },\n      // 登录业务\n      handleLogin() {\n        this.$refs.loginForm.validate((valid) => {\n          // 如果符合验证规则\n          if (valid) {\n            this.loading = true\n            setTimeout(() => {\n              this.$store.dispatch('user/login', this.loginForm).then(() => {\n                this.$router.push({ path: this.redirect || '/' })\n                this.loading = false\n              }).catch(() => {\n                this.loading = false\n              })\n            }, 1500)\n          } else {\n            console.log('error submit!!')\n            return false\n          }\n        })\n      },\n      // 注册业务\n      register() {\n        console.log('123')\n        this.$router.push({ name: 'register' })\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  $bg: #283443;\n  $light_gray: #fff;\n  $cursor: #fff;\n  @supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\n    .login-container .el-input input {\n      color: $cursor;\n    }\n  }\n  .login-container {\n    .el-input {\n      display: inline-block;\n      height: 47px;\n      width: 85%;\n\n      input {\n        background: transparent;\n        border: 0px;\n        -webkit-appearance: none;\n        border-radius: 0px;\n        padding: 12px 5px 12px 15px;\n        color: $light_gray;\n        height: 47px;\n        caret-color: $cursor;\n\n        &:-webkit-autofill {\n          box-shadow: 0 0 0px 1000px $bg inset !important;\n          -webkit-text-fill-color: $cursor !important;\n        }\n      }\n    }\n\n    .el-form-item {\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      background: rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      color: #454545;\n    }\n  }\n</style>\n\n<style lang=\"scss\" scoped>\n  $bg: #2d3a4b;\n  $dark_gray: #889aa4;\n  $light_gray: #eee;\n\n  .login-container {\n    min-height: 100%;\n    width: 100%;\n    overflow: hidden;\n    background: url(~@/assets/bg0.jpg);\n    background-size: 100% 100%;\n    // 头像\n    .avatar-box {\n      margin: 0 auto;\n      width: 120px;\n      height: 120px;\n      border-radius: 50%;\n      border: 1px solid #409eff;\n      box-shadow: 0 0 10px #409eff;\n      position: relative;\n      bottom: 20px;\n      img {\n        width: 100%;\n        height: 100%;\n        border-radius: 50%;\n      }\n    }\n\n    .login-form {\n      position: relative;\n      width: 520px;\n      max-width: 100%;\n      padding: 160px 35px 0;\n      margin: 0 auto;\n      overflow: hidden;\n\n    }\n\n    .tips {\n      font-size: 18px;\n      text-align: center;\n      color: #000;\n      margin-bottom: 10px;\n    }\n\n    .svg-container {\n      padding: 6px 5px 6px 15px;\n      color: $dark_gray;\n      vertical-align: middle;\n      width: 30px;\n      display: inline-block;\n    }\n\n    .title-container {\n      position: relative;\n\n      .title {\n        font-size: 30px;\n        color: $light_gray;\n        margin: 0px auto 40px auto;\n        text-align: center;\n        font-weight: 500;\n      }\n    }\n\n    .show-pwd {\n      position: absolute;\n      right: 10px;\n      top: 7px;\n      font-size: 16px;\n      color: $dark_gray;\n      cursor: pointer;\n      user-select: none;\n    }\n  }\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}